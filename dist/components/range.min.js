/*!
 * # Range slider for Semantic UI.
 *
 */
!function(e,t,n,o){"use strict";t="undefined"!=typeof t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.range=function(t){var i,a=e(this),r=a.selector||"",s=(new Date).getTime(),u=[],l=arguments[0],c="string"==typeof l,d=[].slice.call(arguments,1),f=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];return a.each(function(){var a,g,v,m,p,h,b,k,y=e.isPlainObject(t)?e.extend(!0,{},e.fn.range.settings,t):e.extend({},e.fn.range.settings),P=(y.className,y.metadata),x=y.namespace,L=y.input,T=y.error,w="."+x,E="module-"+x,S=e(this),M=this,O=S.data(E);k={initialize:function(){k.debug("Initializing range slider",y),b=k.is.touch(),k.setup.layout(),k.is.disabled()||k.bind.events(),k.read.metadata(),k.read.settings(),k.instantiate()},instantiate:function(){k.verbose("Storing instance of range",k),O=k,S.data(E,k)},destroy:function(){k.verbose("Destroying previous range for",S),clearInterval(O.interval),k.unbind.events(),k.unbind.documentEvents(),S.removeData(E),O=o},setup:{layout:function(){0==S.find(".inner").length&&S.append("<div class='inner'><div class='track'></div><div class='track-fill'></div><div class='thumb'></div></div>"),h=k.get.precision(),a=S.find(".thumb"),g=S.find(".track"),v=S.find(".track-fill"),p=a.width()/2,k.is.labeled()&&(m=S.find(".labels:not(.auto)"),0!=m.length?k.setup.customLabel():k.setup.autoLabel())},customLabel:function(){var t,n,o=m.find(".label"),i=o.length;o.each(function(o){t=(o+1)/(i+1),n=k.determine.positionFromRatio(t);var a=k.is.vertical()?k.is.reversed()?"bottom":"top":k.is.reversed()?"right":"left";e(this).css(a,n)})},autoLabel:function(){if(0!=k.get.step()){m=S.find(".labels"),0!=m.length?m.empty():m=S.append('<ul class="auto labels"></ul>').find(".labels");for(var t=0;t<=k.get.numLabels();t++){var n=e('<li class="label">'+k.get.label(t+1)+"</li>"),o=k.is.vertical()?k.is.reversed()?"bottom":"top":k.is.reversed()?"right":"left";n.css(o,k.determine.positionFromValue((t+1)*k.get.step())),m.append(n)}}}},bind:{events:function(){S.find(".track, .thumb, .inner").on("mousedown"+w,function(t){t.stopImmediatePropagation(),t.preventDefault(),e(this).closest(".range").trigger("mousedown"+w,t),k.event.down(t)}),S.on("mousedown"+w,k.event.down),k.is.touch()&&(S.find(".track, .thumb, .inner").on("touchstart"+w,function(t){t.stopImmediatePropagation(),t.preventDefault(),e(this).closest(".range").trigger("touchstart"+w,t),k.event.down(t)}),S.on("touchstart"+w,k.event.down))},documentEvents:function(){k.is.touch()?(e(n).on("touchmove"+w,k.event.move),e(n).on("touchend"+w,k.event.up)):(e(n).on("mousemove"+w,k.event.move),e(n).on("mouseup"+w,k.event.up))}},unbind:{events:function(){S.find(".track, .thumb, .inner").off("mousedown"+w),S.find(".track, .thumb, .inner").off("touchstart"+w),S.off("mousedown"+w),S.off("touchstart"+w)},documentEvents:function(){k.is.touch()?(e(n).off("touchmove"+w),e(n).off("touchend"+w)):(e(n).off("mousemove"+w),e(n).off("mouseup"+w))}},event:{down:function(e,t){e.preventDefault(),k.is.disabled()||k.bind.documentEvents()},move:function(e,t){e.preventDefault();var n=k.determine.eventPos(e,t),o=k.determine.pos(n);n>=k.get.trackOffset()&&n<=k.get.trackOffset()+k.get.trackLength()&&k.set.valueBasedPosition(o)},up:function(e,t){e.preventDefault();var n=k.determine.eventPos(e,t),o=k.determine.pos(n);n>=k.get.trackOffset()&&n<=k.get.trackOffset()+k.get.trackLength()&&k.set.valueMoveToValueBasedPosition(o),k.unbind.documentEvents()}},is:{disabled:function(){return S.hasClass(y.className.disabled)},labeled:function(){return S.hasClass(y.className.labeled)},reversed:function(){return S.hasClass(y.className.reversed)},vertical:function(){return S.hasClass(y.className.vertical)},touch:function(){try{return n.createEvent("TouchEvent"),!0}catch(e){return!1}}},get:{trackOffset:function(){return k.is.vertical()?g.offset().top:g.offset().left},trackLength:function(){return k.is.vertical()?g.height():g.width()},trackLeft:function(){return k.is.vertical()?g.position().top:g.position().left},trackStartPos:function(){return k.is.reversed()?k.get.trackLeft()+k.get.trackLength():k.get.trackLeft()},trackEndPos:function(){return k.is.reversed()?k.get.trackLeft():k.get.trackLeft()+k.get.trackLength()},precision:function(){var e,t=k.get.step();if(0!=t){var n=String(t).split(".");e=2==n.length?n[1].length:0}else e=y.decimalPlaces;var o=Math.pow(10,e);return k.debug("Precision determined",o),o},min:function(){return y.min},max:function(){return y.max},step:function(){return y.step},numLabels:function(){var e=Math.round((k.get.max()-k.get.min())/k.get.step())-2;return k.debug("Determined that their should be "+e+" labels"),e},labelType:function(){return y.labelType},label:function(e){switch(y.labelType){case y.labelTypes.number:return e*k.get.step();case y.labelTypes.letter:return f[e-1];case y.labelTypes.none:return"";default:return e}},trackPos:function(){return k.is.vertical()?k.is.reversed()?k.get.trackLength()-(v.position().top+v.height()):v.position().top:k.is.reversed()?k.get.trackLength()-(v.position().left+v.width()):v.position().left},value:function(e){var t=k.is.reversed()?k.get.trackEndPos():k.get.trackStartPos(),n=k.is.reversed()?k.get.trackStartPos():k.get.trackEndPos(),o=(e-t)/(n-t),i=k.get.max()-k.get.min(),a=k.get.step(),r=o*i,s=0==a?r:Math.round(r/a)*a;return k.verbose("Determined value based upon position: "+e+" as: "+r),r!=s&&k.verbose("Rounding value to closest step: "+s),s=Math.round(s*h)/h,k.verbose("Cutting off additional decimal places"),s-k.get.min()}},determine:{pos:function(e){return k.is.reversed()?k.get.trackStartPos()-e+k.get.trackOffset():e-k.get.trackOffset()-k.get.trackStartPos()},positionFromValue:function(e){var t=k.get.min(),n=k.get.max(),o=k.get.trackLength(),i=(e-t)/(n-t),a=k.get.trackPos(),r=Math.round(i*o)+a;return k.verbose("Determined position: "+r+" from value: "+e),r},positionFromRatio:function(e){var t=k.get.trackLength(),n=k.get.trackPos(),o=k.get.step(),i=Math.round(e*t)+n,a=0==o?i:Math.round(i/o)*o;return a},eventPos:function(e,t){return k.is.vertical()?b?t.originalEvent.touches[0].pageY:"undefined"!=typeof e.pageY?e.pageY:t.pageY:b?t.originalEvent.touches[0].pageX:"undefined"!=typeof e.pageX?e.pageX:t.pageX}},set:{value:function(t){L&&e(L).val(t),y.onChange.call(M,t),k.debug("Setting range value to "+t)},position:function(e){k.is.vertical()?(k.is.reversed()?a.css({bottom:String(e-p)+"px"}):a.css({top:String(e-p)+"px"}),v.css({height:String(e)+"px"})):(k.is.reversed()?a.css({right:String(e-p)+"px"}):a.css({left:String(e-p)+"px"}),v.css({width:String(e)+"px"})),k.position=e,k.debug("Setting range position to "+e)},positionBasedValue:function(e){var t=k.get.min(),n=k.get.max();if(e>=t&&n>=e){var o=k.determine.positionFromValue(e);k.set.position(o),k.set.value(e)}else t>=e?(k["goto"].min(),k.set.value(t)):(k["goto"].max(),k.set.value(n))},valueMoveToValueBasedPosition:function(e){var t,n=k.get.value(e),o=k.get.min(),i=k.get.max();o>=n?n=o:n>=i&&(n=i),t=k.determine.positionFromValue(n),k.set.value(n),k.set.position(t)},valueBasedPosition:function(e){var t=k.get.value(e),n=k.get.min(),o=k.get.max();t>=n&&o>=t?k.set.position(e):n>=t?(k["goto"].min(),t=n):(k["goto"].max(),t=o),k.set.value(t)}},"goto":{max:function(){k.set.position(k.get.trackEndPos())},min:function(){k.set.position(k.get.trackStartPos())}},remove:{state:function(){k.verbose("Removing stored state"),delete k.value}},read:{metadata:function(){var e={value:S.data(P.value)};e.value&&(k.debug("Current value set from metadata",e.value),k.set.value(e.value),k.set.positionBasedValue(e.value))},settings:function(){y.start!==!1&&(k.debug("Start position set from settings",y.start),k.set.positionBasedValue(y.start))}},setting:function(t,n){if(k.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,y,t);else{if(n===o)return y[t];e.isPlainObject(y[t])?e.extend(!0,y[t],n):y[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,k,t);else{if(n===o)return k[t];k[t]=n}},debug:function(){!y.silent&&y.debug&&(y.performance?k.performance.log(arguments):(k.debug=Function.prototype.bind.call(console.info,console,y.name+":"),k.debug.apply(console,arguments)))},verbose:function(){!y.silent&&y.verbose&&y.debug&&(y.performance?k.performance.log(arguments):(k.verbose=Function.prototype.bind.call(console.info,console,y.name+":"),k.verbose.apply(console,arguments)))},error:function(){y.silent||(k.error=Function.prototype.bind.call(console.error,console,y.name+":"),k.error.apply(console,arguments))},performance:{log:function(e){var t,n,o;y.performance&&(t=(new Date).getTime(),o=s||t,n=t-o,s=t,u.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:M,"Execution Time":n})),clearTimeout(k.performance.timer),k.performance.timer=setTimeout(k.performance.display,500)},display:function(){var t=y.name+":",n=0;s=!1,clearTimeout(k.performance.timer),e.each(u,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",r&&(t+=" '"+r+"'"),(console.group!==o||console.table!==o)&&u.length>0&&(console.groupCollapsed(t),console.table?console.table(u):e.each(u,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),u=[]}},invoke:function(t,n,a){var r,s,u,l=O;return n=n||d,a=M||a,"string"==typeof t&&l!==o&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,i){var a=n!=r?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[a])&&n!=r)l=l[a];else{if(l[a]!==o)return s=l[a],!1;if(!e.isPlainObject(l[i])||n==r)return l[i]!==o?(s=l[i],!1):(k.error(T.method,t),!1);l=l[i]}})),e.isFunction(s)?u=s.apply(a,n):s!==o&&(u=s),e.isArray(i)?i.push(u):i!==o?i=[i,u]:u!==o&&(i=u),s}},c?(O===o&&k.initialize(),k.invoke(l)):(O!==o&&O.invoke("destroy"),k.initialize())}),i!==o?i:this},e.fn.range.settings={silent:!1,debug:!1,verbose:!1,performance:!0,name:"Range",namespace:"range",error:{method:"The method you called is not defined."},metadata:{value:"value"},min:0,max:20,step:1,start:0,input:!1,labelType:"number",decimalPlaces:2,className:{reversed:"reversed",disabled:"disabled",labeled:"labeled",vertical:"vertical"},labelTypes:{number:"number",none:"none",letter:"letter"},onChange:function(e){}}}(jQuery,window,document);
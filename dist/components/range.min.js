/*!
 * # Range slider for Semantic UI.
 *
 */
!function(e,t,n,o){"use strict";t="undefined"!=typeof t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.range=function(i){var s,r=e(this),a=r.selector||"",u=(new Date).getTime(),l=[],c=arguments[0],d="string"==typeof c,f=[].slice.call(arguments,1),b=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],m=1,p=2,v=0,g=-1,h=-2;return r.each(function(){var r,k,w,y,V,T,P,S,x,M,E,F,O,L,A=e.isPlainObject(i)?e.extend(!0,{},e.fn.range.settings,i):e.extend({},e.fn.range.settings),C=(A.className,A.metadata),D=A.namespace,N=A.error,z=A.keys,j=!1,R="."+D,B="module-"+D,I=e(this),X=this,Y=I.data(B);L={initialize:function(){L.debug("Initializing range slider",A),F=L.setup.testOutTouch(),L.setup.layout(),L.is.disabled()||L.bind.events(),L.read.metadata(),L.read.settings(),L.observeChanges(),L.instantiate(),A.onChange.call(X,P)},instantiate:function(){L.verbose("Storing instance of range",L),Y=L,I.data(B,L)},destroy:function(){L.verbose("Destroying previous range for",I),clearInterval(Y.interval),L.unbind.events(),L.unbind.slidingEvents(),I.removeData(B),L.disconnect.sliderObserver(),Y=o},observeChanges:function(){"MutationObserver"in t&&(O=new MutationObserver(L.event.resize),L.debug("Setting up mutation observer",O),L.observe.slider())},observe:{slider:function(){O.observe(I[0],{attributes:!0})}},disconnect:{sliderObserver:function(){O&&O.disconnect()}},setup:{layout:function(){I.attr("tabindex")===o&&I.attr("tabindex",0),0==I.find(".inner").length&&I.append("<div class='inner'><div class='track'></div><div class='track-fill'></div><div class='thumb'></div></div>"),E=L.get.precision(),k=I.find(".thumb:not(.second)"),r=k,L.is.doubled()&&(0==I.find(".thumb.second").length&&I.find(".inner").append("<div class='thumb second'></div>"),w=I.find(".thumb.second")),y=I.find(".track"),V=I.find(".track-fill"),M=k.width()/2,L.setup.labels()},labels:function(){L.is.labeled()&&(T=I.find(".labels:not(.auto)"),0!=T.length?L.setup.customLabel():L.setup.autoLabel())},testOutTouch:function(){try{return n.createEvent("TouchEvent"),!0}catch(e){return!1}},customLabel:function(){var t,n,o=T.find(".label"),i=o.length;o.each(function(o){var s=e(this),r=s.attr("data-value");r?n=L.determine.positionFromValue(r):(t=(o+1)/(i+1),n=L.determine.positionFromRatio(t));var a=L.is.vertical()?L.is.reversed()?"bottom":"top":L.is.reversed()?"right":"left";e(this).css(a,n)})},autoLabel:function(){if(0!=L.get.step()){T=I.find(".labels"),0!=T.length?T.empty():T=I.append('<ul class="auto labels"></ul>').find(".labels");for(var t=0;t<=L.get.numLabels();t++){var n=e('<li class="label">'+L.get.label(t+1)+"</li>"),o=L.is.vertical()?L.is.reversed()?"bottom":"top":L.is.reversed()?"right":"left";n.css(o,L.determine.positionFromValue((t+1)*L.get.step()+L.get.min())),T.append(n)}}}},bind:{events:function(){L.bind.globalKeyboardEvents(),L.bind.resizeListener(),L.bind.keyboardEvents(),L.bind.mouseEvents(),L.is.touch()&&L.bind.touchEvents()},resizeListener:function(){e(t).on("resize"+R,L.event.resize)},keyboardEvents:function(){L.verbose("Binding keyboard events"),I.on("keydown"+R,L.event.keydown)},globalKeyboardEvents:function(){e(n).on("keydown"+R,L.event.activateFocus)},mouseEvents:function(){L.verbose("Binding mouse events"),I.find(".track, .thumb, .inner").on("mousedown"+R,function(e){e.stopImmediatePropagation(),e.preventDefault(),L.event.down(e)}),I.on("mousedown"+R,L.event.down),I.on("mouseenter"+R,function(e){j=!0}),I.on("mouseleave"+R,function(e){j=!1})},touchEvents:function(){L.verbose("Binding touch events"),I.find(".track, .thumb, .inner").on("touchstart"+R,function(e){e.stopImmediatePropagation(),e.preventDefault(),L.event.down(e)}),I.on("touchstart"+R,L.event.down)},slidingEvents:function(){L.verbose("Binding page wide events while handle is being draged"),L.is.touch()?(e(n).on("touchmove"+R,L.event.move),e(n).on("touchend"+R,L.event.up)):(e(n).on("mousemove"+R,L.event.move),e(n).on("mouseup"+R,L.event.up))}},unbind:{events:function(){I.find(".track, .thumb, .inner").off("mousedown"+R),I.find(".track, .thumb, .inner").off("touchstart"+R),I.off("mousedown"+R),I.off("mouseenter"+R),I.off("mouseleave"+R),I.off("touchstart"+R),I.off("keydown"+R),I.off("focusout"+R),e(t).off("resize"+R)},slidingEvents:function(){L.is.touch()?(e(n).off("touchmove"+R),e(n).off("touchend"+R)):(e(n).off("mousemove"+R),e(n).off("mouseup"+R))}},event:{resize:function(e){L.resync()},down:function(e,t){if(e.preventDefault(),L.is.doubled()){var n=L.determine.eventPos(e,t),o=L.determine.pos(n);r=L.determine.closestThumb(o)}L.is.disabled()||L.bind.slidingEvents()},move:function(e,t){e.preventDefault();var n=L.determine.eventPos(e,t),o=L.determine.pos(n);n>=L.get.trackOffset()&&n<=L.get.trackOffset()+L.get.trackLength()&&(0==L.get.step()||A.smooth?(L.update.position(o),A.onMove.call(X,L.determine.value(o))):L.update.value(L.determine.value(o),function(){A.onMove.call(X,P)}))},up:function(e,t){e.preventDefault();var n=L.determine.eventPos(e,t),o=L.determine.pos(n);n>=L.get.trackOffset()&&n<=L.get.trackOffset()+L.get.trackLength()&&L.set.value(L.determine.value(o)),L.unbind.slidingEvents()},keydown:function(t,o){if(L.is.focused()&&e(n).trigger(t),o||L.is.focused()){var i=L.determine.keyMovement(t);if(i!=v)switch(t.preventDefault(),i){case m:L.takeStep();break;case p:L.takeStep(L.get.multiplier());break;case g:L.backStep();break;case h:L.backStep(L.get.multiplier())}}},activateFocus:function(e){!L.is.focused()&&L.is.hover()&&L.determine.keyMovement(e)!=v&&(e.preventDefault(),L.event.keydown(e,!0),I.focus())}},resync:function(){L.verbose("Resyncing thumb position based on value"),L.is.doubled()&&L.update.position(L.determine.positionFromValue(L.secondThumbVal),w),L.update.position(L.determine.positionFromValue(L.thumbVal),k),L.setup.labels()},takeStep:function(e){var e=e!=o?e:1,t=L.get.step(),n=L.get.currentThumbValue();L.verbose("Taking a step"),t>0&&L.set.value(n+t*e)},backStep:function(e){var e=e!=o?e:1,t=L.get.step(),n=L.get.currentThumbValue();L.verbose("Going back a step"),t>0&&L.set.value(n-t*e)},is:{doubled:function(){return I.hasClass(A.className.doubled)},hover:function(){return j},focused:function(){return I.is(":focus")},disabled:function(){return I.hasClass(A.className.disabled)},labeled:function(){return I.hasClass(A.className.labeled)},reversed:function(){return I.hasClass(A.className.reversed)},vertical:function(){return I.hasClass(A.className.vertical)},touch:function(){return F}},get:{trackOffset:function(){return L.is.vertical()?y.offset().top:y.offset().left},trackLength:function(){return L.is.vertical()?y.height():y.width()},trackLeft:function(){return L.is.vertical()?y.position().top:y.position().left},trackStartPos:function(){return L.is.reversed()?L.get.trackLeft()+L.get.trackLength():L.get.trackLeft()},trackEndPos:function(){return L.is.reversed()?L.get.trackLeft():L.get.trackLeft()+L.get.trackLength()},precision:function(){var e,t=L.get.step();if(0!=t){var n=String(t).split(".");e=2==n.length?n[1].length:0}else e=A.decimalPlaces;var o=Math.pow(10,e);return L.debug("Precision determined",o),o},min:function(){return A.min},max:function(){return A.max},step:function(){return A.step},numLabels:function(){var e=Math.round((L.get.max()-L.get.min())/L.get.step())-2;return L.debug("Determined that their should be "+e+" labels"),e},labelType:function(){return A.labelType},label:function(e){switch(A.labelType){case A.labelTypes.number:return e*L.get.step()+L.get.min();case A.labelTypes.letter:return b[(e-1)%26];case A.labelTypes.none:return"";default:return e}},value:function(){return P},currentThumbValue:function(){return r.hasClass("second")?L.secondThumbVal:L.thumbVal},thumbValue:function(e){switch(e){case"first":return L.thumbVal;case"second":if(L.is.doubled())return L.secondThumbVal;L.error(N.notdouble);break;default:return L.thumbVal}},multiplier:function(){return A.pageMultiplier},thumbPosition:function(e){switch(e){case"first":return S;case"second":if(L.is.doubled())return secondThumbPosition;L.error(N.notdouble);break;default:return S}}},determine:{pos:function(e){return L.is.reversed()?L.get.trackStartPos()-e+L.get.trackOffset():e-L.get.trackOffset()-L.get.trackStartPos()},closestThumb:function(e){var t=parseFloat(L.determine.thumbPos(k)),n=Math.abs(e-t),o=parseFloat(L.determine.thumbPos(w)),i=Math.abs(e-o);return i>=n?k:w},closestThumbPos:function(e){var t=parseFloat(L.determine.thumbPos(k)),n=Math.abs(e-t),o=parseFloat(L.determine.thumbPos(w)),i=Math.abs(e-o);return i>=n?t:o},thumbPos:function(e){var t=L.is.vertical()?L.is.reversed()?e.css("bottom"):e.css("top"):L.is.reversed()?e.css("right"):e.css("left");return t},positionFromValue:function(e){var t=L.get.min(),n=L.get.max(),e=e>n?n:t>e?t:e,o=L.get.trackLength(),i=(e-t)/(n-t),s=Math.round(i*o);return L.verbose("Determined position: "+s+" from value: "+e),s},positionFromRatio:function(e){var t=L.get.trackLength(),n=L.get.step(),o=Math.round(e*t),i=0==n?o:Math.round(o/n)*n;return i},eventPos:function(e,t){return L.is.vertical()?L.is.touch()?t.originalEvent.touches[0].pageY:"undefined"!=typeof e.pageY?e.pageY:t.pageY:L.is.touch()?t.originalEvent.touches[0].pageX:"undefined"!=typeof e.pageX?e.pageX:t.pageX},value:function(e){var t=L.is.reversed()?L.get.trackEndPos():L.get.trackStartPos(),n=L.is.reversed()?L.get.trackStartPos():L.get.trackEndPos(),o=(e-t)/(n-t),i=L.get.max()-L.get.min(),s=L.get.step(),r=o*i,a=0==s?r:Math.round(r/s)*s;return L.verbose("Determined value based upon position: "+e+" as: "+r),r!=a&&L.verbose("Rounding value to closest step: "+a),a=Math.round(a*E)/E,L.verbose("Cutting off additional decimal places"),a+L.get.min()},keyMovement:function(e){var t=e.which,n=L.is.vertical()?L.is.reversed()?z.downArrow:z.upArrow:z.downArrow,o=L.is.vertical()?L.is.reversed()?z.upArrow:z.downArrow:z.upArrow,i=L.is.vertical()?z.leftArrow:L.is.reversed()?z.rightArrow:z.leftArrow,s=L.is.vertical()?z.rightArrow:L.is.reversed()?z.leftArrow:z.rightArrow;return t==n||t==i?g:t==o||t==s?m:t==z.pageDown?h:t==z.pageUp?p:v}},handleNewValuePosition:function(e){var t,n=L.get.min(),o=L.get.max();return e>=n&&o>=e?t=L.determine.positionFromValue(e):n>=e?(t=L.determine.positionFromValue(n),e=n):(t=L.determine.positionFromValue(o),e=o),t},set:{value:function(e){L.update.value(e,function(e){A.onChange.call(X,e)})},valueDouble:function(e,t){L.is.doubled()?(L.thumbVal=e,L.secondThumbVal=t,S=L.handleNewValuePosition(L.thumbVal),L.update.position(S,k),x=L.handleNewValuePosition(L.secondThumbVal),L.update.position(x,w),P=Math.abs(L.thumbVal-L.secondThumbVal)):L.error(N.notdouble)},position:function(e,t){switch(t){case"first":L.update.position(e);break;case"second":L.update.position(e,w);break;default:L.update.position(e)}}},update:{value:function(e,t){var n=L.get.min(),o=L.get.max();if(n>=e?e=n:e>=o&&(e=o),L.is.doubled()){var i=L.handleNewValuePosition(e);r.hasClass("second")?L.secondThumbVal=e:L.thumbVal=e,L.update.position(i),P=Math.abs(L.thumbVal-L.secondThumbVal)}else S=L.handleNewValuePosition(e),L.update.position(S),P=e,L.thumbVal=P;L.debug("Setting range value to "+P),"function"==typeof t&&t(P)},position:function(e,t){var n=t!=o?t:r;L.is.doubled()&&n.hasClass("second")?x=e:S=e;var i,s=L.is.doubled()?Math.abs(S-x):e;L.is.vertical()?(L.is.reversed()?(n.css({bottom:String(e-M)+"px"}),L.is.doubled()&&(i={bottom:String(parseFloat(L.determine.closestThumbPos(0))+M)+"px"})):(n.css({top:String(e-M)+"px"}),L.is.doubled()&&(i={top:String(parseFloat(L.determine.closestThumbPos(0))+M)+"px"})),V.css(Object.assign({height:String(s)+"px"},i))):(L.is.reversed()?(n.css({right:String(e-M)+"px"}),L.is.doubled()&&(i={right:String(parseFloat(L.determine.closestThumbPos(0))+M)+"px"})):(n.css({left:String(e-M)+"px"}),L.is.doubled()&&(i={left:String(parseFloat(L.determine.closestThumbPos(0))+M)+"px"})),V.css(Object.assign({width:String(s)+"px"},i))),L.debug("Setting range position to "+e)}},"goto":{max:function(){L.set.value(L.get.max())},min:function(){L.set.value(L.get.min())}},read:{metadata:function(){var e={thumbVal:I.data(C.thumbVal),secondThumbVal:I.data(C.secondThumbVal)};e.thumbVal&&(L.is.doubled()&&e.secondThumbVal?(L.debug("Current value set from metadata",e.thumbVal,e.secondThumbVal),L.set.valueDouble(e.thumbVal,e.secondThumbVal)):(L.debug("Current value set from metadata",e.thumbVal),L.update.value(e.thumbVal)))},settings:function(){A.start!==!1&&(L.is.doubled()?(L.debug("Start position set from settings",A.start,A.doubleStart),L.set.valueDouble(A.start,A.doubleStart)):(L.debug("Start position set from settings",A.start),L.update.value(A.start)))}},setting:function(t,n){if(L.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,A,t);else{if(n===o)return A[t];e.isPlainObject(A[t])?e.extend(!0,A[t],n):A[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,L,t);else{if(n===o)return L[t];L[t]=n}},debug:function(){!A.silent&&A.debug&&(A.performance?L.performance.log(arguments):(L.debug=Function.prototype.bind.call(console.info,console,A.name+":"),L.debug.apply(console,arguments)))},verbose:function(){!A.silent&&A.verbose&&A.debug&&(A.performance?L.performance.log(arguments):(L.verbose=Function.prototype.bind.call(console.info,console,A.name+":"),L.verbose.apply(console,arguments)))},error:function(){A.silent||(L.error=Function.prototype.bind.call(console.error,console,A.name+":"),L.error.apply(console,arguments))},performance:{log:function(e){var t,n,o;A.performance&&(t=(new Date).getTime(),o=u||t,n=t-o,u=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:X,"Execution Time":n})),clearTimeout(L.performance.timer),L.performance.timer=setTimeout(L.performance.display,500)},display:function(){var t=A.name+":",n=0;u=!1,clearTimeout(L.performance.timer),e.each(l,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",a&&(t+=" '"+a+"'"),(console.group!==o||console.table!==o)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,n,i){var r,a,u,l=Y;return n=n||f,i=X||i,"string"==typeof t&&l!==o&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,i){var s=n!=r?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[s])&&n!=r)l=l[s];else{if(l[s]!==o)return a=l[s],!1;if(!e.isPlainObject(l[i])||n==r)return l[i]!==o?(a=l[i],!1):(L.error(N.method,t),!1);l=l[i]}})),e.isFunction(a)?u=a.apply(i,n):a!==o&&(u=a),e.isArray(s)?s.push(u):s!==o?s=[s,u]:u!==o&&(s=u),a}},d?(Y===o&&L.initialize(),L.invoke(c)):(Y!==o&&Y.invoke("destroy"),L.initialize())}),s!==o?s:this},e.fn.range.settings={silent:!1,debug:!1,verbose:!1,performance:!0,name:"Range",namespace:"range",error:{method:"The method you called is not defined.",notdouble:"This slider is not a double slider"},metadata:{thumbVal:"thumbVal",secondThumbVal:"secondThumbVal"},min:0,max:20,step:1,start:0,doubleStart:1,labelType:"number",smooth:!1,decimalPlaces:2,pageMultiplier:2,className:{reversed:"reversed",disabled:"disabled",labeled:"labeled",vertical:"vertical",doubled:"double"},keys:{pageUp:33,pageDown:34,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40},labelTypes:{number:"number",none:"none",letter:"letter"},onChange:function(e){},onMove:function(e){}}}(jQuery,window,document);